<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Ordo: /home/tom/Projects/github/Ordo/include/ordo/auth/hmac.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ordo
   &#160;<span id="projectnumber">2.7.0</span>
   </div>
   <div id="projectbrief">Symmetric Cryptography Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dd693003ba73995af773430f8dbf2713.html">ordo</a></li><li class="navelem"><a class="el" href="dir_95bcdc4c4f0318bb6cae1c71365b4656.html">auth</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hmac.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="digest_8h_source.html">ordo/digest/digest.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for hmac.h:</div>
<div class="dyncontent">
<div class="center"><img src="hmac_8h__incl.png" border="0" usemap="#_2home_2tom_2_projects_2github_2_ordo_2include_2ordo_2auth_2hmac_8h" alt=""/></div>
<map name="_2home_2tom_2_projects_2github_2_ordo_2include_2ordo_2auth_2hmac_8h" id="_2home_2tom_2_projects_2github_2_ordo_2include_2ordo_2auth_2hmac_8h">
<area shape="rect" id="node3" href="digest_8h.html" title="Module. " alt="" coords="7,131,143,165"/><area shape="rect" id="node5" href="hash__functions_8h.html" title="Abstraction Layer. " alt="" coords="5,214,144,269"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="hmac_8h__dep__incl.png" border="0" usemap="#_2home_2tom_2_projects_2github_2_ordo_2include_2ordo_2auth_2hmac_8hdep" alt=""/></div>
<map name="_2home_2tom_2_projects_2github_2_ordo_2include_2ordo_2auth_2hmac_8hdep" id="_2home_2tom_2_projects_2github_2_ordo_2include_2ordo_2auth_2hmac_8hdep">
<area shape="rect" id="node3" href="pbkdf2_8h.html" title="Module. " alt="" coords="5,131,144,207"/><area shape="rect" id="node5" href="ordo_8h.html" title="Wrapper. " alt="" coords="5,257,144,333"/></map>
</div>
</div>
<p><a href="hmac_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab46db5c02ecf5ee5229099ab305d7300"><td class="memItemLeft" align="right" valign="top">ORDO_PUBLIC struct HMAC_CTX *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmac_8h.html#ab46db5c02ecf5ee5229099ab305d7300">hmac_alloc</a> (const struct HASH_FUNCTION *hash)</td></tr>
<tr class="separator:ab46db5c02ecf5ee5229099ab305d7300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7bcd6e3598551430db3c8c668de2295"><td class="memItemLeft" align="right" valign="top">ORDO_PUBLIC int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmac_8h.html#af7bcd6e3598551430db3c8c668de2295">hmac_init</a> (struct HMAC_CTX *ctx, const void *key, size_t key_len, const void *params)</td></tr>
<tr class="separator:af7bcd6e3598551430db3c8c668de2295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a29e3bb7bc7b0f58e28bf100925a613"><td class="memItemLeft" align="right" valign="top">ORDO_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmac_8h.html#a3a29e3bb7bc7b0f58e28bf100925a613">hmac_update</a> (struct HMAC_CTX *ctx, const void *in, size_t in_len)</td></tr>
<tr class="separator:a3a29e3bb7bc7b0f58e28bf100925a613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a278e06c71b6d5d16b5e070d74454adbf"><td class="memItemLeft" align="right" valign="top">ORDO_PUBLIC int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmac_8h.html#a278e06c71b6d5d16b5e070d74454adbf">hmac_final</a> (struct HMAC_CTX *ctx, void *fingerprint)</td></tr>
<tr class="separator:a278e06c71b6d5d16b5e070d74454adbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0983c473a49e07b6a4ba62b9bc3e871c"><td class="memItemLeft" align="right" valign="top">ORDO_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmac_8h.html#a0983c473a49e07b6a4ba62b9bc3e871c">hmac_free</a> (struct HMAC_CTX *ctx)</td></tr>
<tr class="separator:a0983c473a49e07b6a4ba62b9bc3e871c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763a39ef98d76e3c66d875f5df4ca0bb"><td class="memItemLeft" align="right" valign="top">ORDO_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmac_8h.html#a763a39ef98d76e3c66d875f5df4ca0bb">hmac_copy</a> (struct HMAC_CTX *dst, const struct HMAC_CTX *src)</td></tr>
<tr class="separator:a763a39ef98d76e3c66d875f5df4ca0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module. </p>
<p>Module for computing HMAC's (Hash-based Message Authentication Codes), which securely combine a hash function with a cryptographic key securely in order to provide both authentication and integrity, as per RFC 2104. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab46db5c02ecf5ee5229099ab305d7300"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORDO_PUBLIC struct HMAC_CTX* hmac_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct HASH_FUNCTION *&#160;</td>
          <td class="paramname"><em>hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a new HMAC context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hash</td><td>The hash function to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The allocated HMAC context, or <code>0</code> if allocation fails.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The PRF used for the HMAC will be the hash function as it behaves with default parameters. It is not possible to use hash function extensions (e.g. Skein in specialized HMAC mode) via this module, though if you intend to use a specific hash function you can just skip this abstraction layer and directly use whatever features it provides to compute message authentication codes. </dd></dl>

</div>
</div>
<a class="anchor" id="af7bcd6e3598551430db3c8c668de2295"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORDO_PUBLIC int hmac_init </td>
          <td>(</td>
          <td class="paramtype">struct HMAC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>key_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes an HMAC context, provided optional parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>An allocated HMAC context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The cryptographic key to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_len</td><td>The size, in bytes, of the key. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">params</td><td>Hash function specific parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="error_8h.html#a7e07095466ca14dd043a75140b9874a3aeac88754638f0b42c8becf05730f4129">ORDO_SUCCESS</a></code> on success, else an error code.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The hash parameters apply to the inner hash operation only, which is the one used to hash the passed key with the inner mask.</dd>
<dd>
Do not use hash parameters which modify the output length or this function's behavior is undefined. </dd></dl>

</div>
</div>
<a class="anchor" id="a3a29e3bb7bc7b0f58e28bf100925a613"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORDO_PUBLIC void hmac_update </td>
          <td>(</td>
          <td class="paramtype">struct HMAC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>in_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates an HMAC context, feeding more data into it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>An initialized HMAC context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>The data to feed into the context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_len</td><td>The length, in bytes, of the data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function has the same properties, with respect to the input buffer, as the <code><a class="el" href="digest_8h.html#a191419a5da14702889347db74485194e">digest_update()</a></code> function. </dd></dl>

</div>
</div>
<a class="anchor" id="a278e06c71b6d5d16b5e070d74454adbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORDO_PUBLIC int hmac_final </td>
          <td>(</td>
          <td class="paramtype">struct HMAC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fingerprint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalizes a HMAC context, returning the final fingerprint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>An initialized HMAC context. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fingerprint</td><td>The output buffer for the fingerprint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="error_8h.html#a7e07095466ca14dd043a75140b9874a3aeac88754638f0b42c8becf05730f4129">ORDO_SUCCESS</a></code> on success, else an error code.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The fingerprint length is equal to the underlying hash function's digest length, which may be queried via <code>hash_digest_length()</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="a0983c473a49e07b6a4ba62b9bc3e871c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORDO_PUBLIC void hmac_free </td>
          <td>(</td>
          <td class="paramtype">struct HMAC_CTX *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees a digest context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The HMAC context to be freed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>The context need not have been initialized, but if it has been, it must have been finalized before calling this function.</dd>
<dd>
Passing <code>0</code> to this function is valid, and will do nothing. </dd></dl>

</div>
</div>
<a class="anchor" id="a763a39ef98d76e3c66d875f5df4ca0bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORDO_PUBLIC void hmac_copy </td>
          <td>(</td>
          <td class="paramtype">struct HMAC_CTX *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct HMAC_CTX *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a deep copy of one context into another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>The destination context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>The source context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>The destination context should have been allocated using the same primitive(s) as the source context, and mustn't be initialized.</dd>
<dd>
The source context must be initialized. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 31 2014 18:30:29 for Ordo by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
